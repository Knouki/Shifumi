<?xml version="1.0"?>
<project name="Shifumi" default="compile">
	<path id="findbugsdir">
		<fileset dir="lib/">
			<include name="*.jar" />
		</fileset>
	</path>
	<target name="clean" description="Clean all project">
		<delete dir="bin"/>
		<delete dir="dist"/>
	</target>
	<target name="compile" description="Compile all java file or src folder">
		<mkdir dir="bin"/>
		<javac srcdir="src" destdir="bin"
			excludes="com/imie/MainTest.java"/>
	</target>
	<target name="jar" description="Make jar file of project">
		<mkdir dir="dist"/>
		<jar destfile="dist/shifu.jar">
			<fileset dir="bin" includes="**/*.class"/>
			<manifest>
				<attribute name="Main Class" value="com.imie.MainClass" />
			</manifest>
		</jar>
	</target>
	<target name="checkstyle" description="Check quality">
		<taskdef resource="checkstyletask.properties"
			classpath="C:\\Users\utilisateur\apache-ant\checkstyle-6.3-all.jar"/>
		<checkstyle config="checkstyle_rules.xml">
		    <fileset dir="src/main/java" includes="**/*.java" />
		</checkstyle>
	</target>
	<target name="findbug" description="Find all bug">
	        <taskdef name="findbug"
	        	   classname="edu.umd.cs.findbugs.anttask.FindBugsTask"
	        	   classpathref="findbugsdir"/>
	        <findbug home="lib/"
	        	output="html"
	        	outputFile="dist\findbug-report.html">
	        	<sourcePath path="src/main/java"/>
	        	<class location="bin"/>
	            
	        </findbug>
	</target>
</project>